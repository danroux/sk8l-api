kind: Namespace
apiVersion: v1
metadata:
  name: sk8l
---
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: selfsigned-issuer
spec:
  selfSigned: {}
---
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: sk8l-tls-ca-cert
  namespace: sk8l
spec:
  isCA: true
  secretName: root-secret
  privateKey:
    algorithm: RSA
    encoding: PKCS1
    size: 2048
  issuerRef:
    name: selfsigned-issuer
    kind: ClusterIssuer
    group: cert-manager.io
  commonName: 10.244.0.7
  secretName: root-secret
---
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: tls-server-cert-non-ca
  namespace: sk8l
spec:
  isCA: false
  secretName: sk8l-tls-server-cert
  commonName: 10.96.0.0
  duration: 2160h # 90d
  renewBefore: 360h # 15d
  privateKey:
    algorithm: RSA
    encoding: PKCS1
    size: 2048
    rotationPolicy: Always
  usages:
    - server auth
    - client auth
  issuerRef:
    name: sk8l-ca-issues
    kind: Issuer
    group: cert-manager.io
  dnsNames:
    - sk8l.svc.cluster.local
    - svc.cluster.local
    - cluster.local
    - localhost
  ipAddresses:
    - 10.96.3.160
    - 10.244.0.7
    - 0.0.0.0
    - 10.244.8.1
    - 10.244.8.2
    - 10.244.8.3
    - 10.244.8.4
    - 10.244.8.5
    - 10.244.8.6
    - 10.244.8.7
    - 10.244.8.8
    - 10.244.8.9
    - 10.244.8.10
    - 10.244.8.11
    - 10.244.8.12
    - 10.244.8.13
    - 10.244.8.14
    - 10.244.8.15
    - 10.244.8.16
    - 10.244.8.17
    - 10.244.8.18
    - 10.244.8.19
    - 10.244.8.20
    - 10.244.8.21
    - 10.244.8.22
    - 10.244.8.23
    - 10.244.8.24
    - 10.244.8.25
    - 10.244.8.26
    - 10.244.8.27
    - 10.244.8.28
    - 10.244.8.29
    - 10.244.8.30
    - 10.244.8.31
    - 10.244.8.32
    - 10.244.8.33
    - 10.244.8.34
    - 10.244.8.35
    - 10.244.8.36
    - 10.244.8.37
    - 10.244.8.38
    - 10.244.8.39
    - 10.244.8.40
    - 10.244.8.41
    - 10.244.8.42
    - 10.244.8.43
    - 10.244.8.44
    - 10.244.8.45
    - 10.244.8.46
    - 10.244.8.47
    - 10.244.8.48
    - 10.244.8.49
    - 10.244.8.50
    - 10.244.8.51
    - 10.244.8.52
    - 10.244.8.53
    - 10.244.8.54
    - 10.244.8.55
    - 10.244.8.56
    - 10.244.8.57
    - 10.244.8.58
    - 10.244.8.59
    - 10.244.8.60
    - 10.244.8.61
    - 10.244.8.62
    - 10.244.8.63
    - 10.244.8.64
    - 10.244.8.65
    - 10.244.8.66
    - 10.244.8.67
    - 10.244.8.68
    - 10.244.8.69
    - 10.244.8.70
    - 10.244.8.71
    - 10.244.8.72
    - 10.244.8.73
    - 10.244.8.74
    - 10.244.8.75
    - 10.244.8.76
    - 10.244.8.77
    - 10.244.8.78
    - 10.244.8.79
    - 10.244.8.80
    - 10.244.8.81
    - 10.244.8.82
    - 10.244.8.83
    - 10.244.8.84
    - 10.244.8.85
    - 10.244.8.86
    - 10.244.8.87
    - 10.244.8.88
    - 10.244.8.89
    - 10.244.8.90
    - 10.244.8.91
    - 10.244.8.92
    - 10.244.8.93
    - 10.244.8.94
    - 10.244.8.95
    - 10.244.8.96
    - 10.244.8.97
    - 10.244.8.98
    - 10.244.8.99
    - 10.244.8.100
    - 10.244.8.101
    - 10.244.8.102
    - 10.244.8.103
    - 10.244.8.104
    - 10.244.8.105
    - 10.244.8.106
    - 10.244.8.107
    - 10.244.8.108
    - 10.244.8.109
    - 10.244.8.110
    - 10.244.8.111
    - 10.244.8.112
    - 10.244.8.113
    - 10.244.8.114
    - 10.244.8.115
    - 10.244.8.116
    - 10.244.8.117
    - 10.244.8.118
    - 10.244.8.119
    - 10.244.8.120
    - 10.244.8.121
    - 10.244.8.122
    - 10.244.8.123
    - 10.244.8.124
    - 10.244.8.125
    - 10.244.8.126
    - 10.244.8.127
    - 10.244.8.128
    - 10.244.8.129
    - 10.244.8.130
    - 10.244.8.131
    - 10.244.8.132
    - 10.244.8.133
    - 10.244.8.134
    - 10.244.8.135
    - 10.244.8.136
    - 10.244.8.137
    - 10.244.8.138
    - 10.244.8.139
    - 10.244.8.140
    - 10.244.8.141
    - 10.244.8.142
    - 10.244.8.143
    - 10.244.8.144
    - 10.244.8.145
    - 10.244.8.146
    - 10.244.8.147
    - 10.244.8.148
    - 10.244.8.149
    - 10.244.8.150
    - 10.244.8.151
    - 10.244.8.152
    - 10.244.8.153
    - 10.244.8.154
    - 10.244.8.155
    - 10.244.8.156
    - 10.244.8.157
    - 10.244.8.158
    - 10.244.8.159
    - 10.244.8.160
    - 10.244.8.161
    - 10.244.8.162
    - 10.244.8.163
    - 10.244.8.164
    - 10.244.8.165
    - 10.244.8.166
    - 10.244.8.167
    - 10.244.8.168
    - 10.244.8.169
    - 10.244.8.170
    - 10.244.8.171
    - 10.244.8.172
    - 10.244.8.173
    - 10.244.8.174
    - 10.244.8.175
    - 10.244.8.176
    - 10.244.8.177
    - 10.244.8.178
    - 10.244.8.179
    - 10.244.8.180
    - 10.244.8.181
    - 10.244.8.182
    - 10.244.8.183
    - 10.244.8.184
    - 10.244.8.185
    - 10.244.8.186
    - 10.244.8.187
    - 10.244.8.188
    - 10.244.8.189
    - 10.244.8.190
    - 10.244.8.191
    - 10.244.8.192
    - 10.244.8.193
    - 10.244.8.194
    - 10.244.8.195
    - 10.244.8.196
    - 10.244.8.197
    - 10.244.8.198
    - 10.244.8.199
    - 10.244.8.200
    - 10.244.8.201
    - 10.244.8.202
    - 10.244.8.203
    - 10.244.8.204
    - 10.244.8.205
    - 10.244.8.206
    - 10.244.8.207
    - 10.244.8.208
    - 10.244.8.209
    - 10.244.8.210
    - 10.244.8.211
    - 10.244.8.212
    - 10.244.8.213
    - 10.244.8.214
    - 10.244.8.215
    - 10.244.8.216
    - 10.244.8.217
    - 10.244.8.218
    - 10.244.8.219
    - 10.244.8.220
    - 10.244.8.221
    - 10.244.8.222
    - 10.244.8.223
    - 10.244.8.224
    - 10.244.8.225
    - 10.244.8.226
    - 10.244.8.227
    - 10.244.8.228
    - 10.244.8.229
    - 10.244.8.230
    - 10.244.8.231
    - 10.244.8.232
    - 10.244.8.233
    - 10.244.8.234
    - 10.244.8.235
    - 10.244.8.236
    - 10.244.8.237
    - 10.244.8.238
    - 10.244.8.239
    - 10.244.8.240
    - 10.244.8.241
    - 10.244.8.242
    - 10.244.8.243
    - 10.244.8.244
    - 10.244.8.245
    - 10.244.8.246
    - 10.244.8.247
    - 10.244.8.248
    - 10.244.8.249
    - 10.244.8.250
    - 10.244.8.251
    - 10.244.8.252
    - 10.244.8.253
    - 10.244.8.254
    - 10.244.8.255
---
apiVersion: cert-manager.io/v1
kind: Issuer
metadata:
  name: sk8l-ca-issues
  namespace: sk8l
spec:
  ca:
    secretName: root-secret
